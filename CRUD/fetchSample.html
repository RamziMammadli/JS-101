<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // TASK
      // https://northwind.vercel.app/api/suppliers/ fetch metodu ile melumatlari localda yeni array-e (push) yazdirin
      // Melumatlari arrayda Paris şəhərinə görə (filter)ləyin
      // Məlumatları idlərinə görə çeşidləyin (sort)
      // https://northwind.vercel.app/api/suppliers/ Api-yə Yeni bir obyekt Post edin
      // https://northwind.vercel.app/api/suppliers/ hər hansı bir obyekti hər hansı bir məlumatı edit edin
      // https://northwind.vercel.app/api/suppliers/ hər hansı obyekti silin

      // GET Method

      fetch(`https://northwind.vercel.app/api/orders`) //fetch atiriq - request atiriq
        .then((res) => res.json()) // res geldi, json oldu , gelen  datani istifade edirik
        .then((data) => {
          arr.push(data); // PUSH aldigimiz movcud array - i ...
        });

      console.log(arr);

      // Create Method

      const Post = (musteriId, isciId) => {
        // funksiya Post yaradiriq , iki parametr alir
        let url = `https://northwind.vercel.app/api/orders/`;

        fetch(url, {
          // fetch atmaq
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          }, //Post method FETCH
          body: JSON.stringify({
            costumerId: musteriId,
            employerId: isciId,
          }),
        })
          .then((res) => res.json())
          .then(data);
      };

      // UPDATE Method PUT or PATCH

      const update = (id, musteriId, isciId) => {
        fetch(`https://northwind.vercel.app/api/orders/${id}`, {
        method: "PATCH", //PUT
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          customerId: musteriId,
          employeeId: isciId
        }),
      })
        .then((res) => {
          return res.json()
        })
        .then((data) => {
          console.log(data);
        });
      }

      // Delete Method

      const del = (id) => {
        fetch(`https://northwind.vercel.app/api/orders/${id}`, {
          method: "DELETE",
        }).then(() => {
          console.log("removed");
        });
      };


    </script>
  </body>
</html>
